{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/shopping-list.js","src/js/api.js","node_modules/@parcel/runtime-js/lib/runtime-b72456753751e934.js","node_modules/@parcel/runtime-js/lib/runtime-ce510afae35c506d.js","node_modules/@parcel/runtime-js/lib/runtime-b53f750b4ac88e66.js","src/js/shopping-list-active-page.js","src/js/shopping-list-burger-open.js","node_modules/@parcel/runtime-js/lib/runtime-ddb879b6a86ea9fa.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import { getBookById } from './api';\nimport {  getBookById } from \"./api\";\nimport amazon from \"../images/amazon.png\";\nimport apple from \"../images/apple.png\";\nimport bookshops from \"../images/bookshops.png\";\nimport './shopping-list-active-page'\nimport './shopping-list-burger-open'\n\n\nconst elements = {\n    container: document.querySelector('.js-list'),\n    empty: document.querySelector('.shopping-empty'),\n    removeBook:document.querySelector('.js-removeBook') \n    \n}\n\nconst PRODUCT_LS_KEY = 'checkout';\nconst products = JSON.parse(localStorage.getItem(PRODUCT_LS_KEY)) || [];\n\n\n\n\ncreateListShoping();\n\nfunction createListShoping() {\n    if (products.length > 0) {\n        elements.empty.innerHTML = \"\"\n    }\n\n    products.map(a => {\n        getBookById(a).then(data => {\n            createMarkup(data);\n        });\n    });\n    elements.container.addEventListener('click', (evt => {         \n        if (evt.target.nodeName !== 'BUTTON') {\n            return\n        }\n        console.log(products);\n        const IdxRemove = products.indexOf(evt.target.id);\n        products.splice(IdxRemove, 1);\n        console.log(products);\n        localStorage.setItem(PRODUCT_LS_KEY, JSON.stringify(products));\n        elements.container.innerHTML = \"\";\n        createListShoping();\n    }));\n    \n    \n}\n\n\n\n\nfunction createMarkup(arr) {\n    const { _id, list_name, title, author, description, book_image, buy_links } = arr \n        elements.container.insertAdjacentHTML('beforeend',\n        `   <li data-id=\"${_id}\" class=\"js-product shop-product trigger\" data-modal-open=\"\">\n        <img class=\"shop-img\" src=\"${book_image}\" alt=\"${title}\" />\n        <div class=\"book-info\">\n        <h2 class=\"shop-title\">${title}</h2>\n        <p class=\"shop-category\">${list_name}</p>\n        <p class=\"shop-description\">${description}</p>\n\n        <button class=\"js-removeBook shop-dlt-btn\" type=\"button\" id=\"${_id}\">\n        <svg class=\"js-clear icon-trash\">\n         <use href=\"./images/icons_by_one/close.svg\"></use>\n      </svg>\n        </button>\n\n        <div class=\"shop-wrap\">\n        <p class=\"shop-author\">${author}</p>  \n       <ul class=\"shop-link-list\">\n         <li>\n             <a href=\"${buy_links[0].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link-amz\">\n            <img class=\"icon-shop-amz\" src=\"${amazon}\" alt=\"${buy_links[0].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[1].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n            <img class=\"icon-shop\" src=\"${apple}\" alt=\"${buy_links[1].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[3].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n                 <img class=\"icon-shop\" src=\"${bookshops}\" alt=\"${buy_links[3].name}\" />\n             </a>\n         </li>\n        </ul>\n        </div>\n        \n        </div>\n  </li>`\n    );\n    \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","function getCategories() {\n  return fetch('https://books-backend.p.goit.global/books/category-list ').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getAllBooks() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getBookByCategory(selectedCategory) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction getBookById(id) {\n  return fetch(`https://books-backend.p.goit.global/books/${id}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nexport { getCategories, getAllBooks, getBookByCategory, getBookById };\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1yVwl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7vky4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gjDUq\")).toString();","\nconst menuLinks = document.querySelectorAll('.burger-mobile-header-link');\nconst currentShoppingList = document.querySelector('.burger-header-link-second');\nconst svgIconShoppingList = document.querySelector('.burger-menu_shopping-list');\n\n\nmenuLinks.forEach(link => {\n   \n    currentShoppingList.classList.add('active');\n    svgIconShoppingList.classList.add('active');\n});\n","\nconst hiddebBurgMenu = document.querySelector('.conteiner-hidden');\n const burgerBtn = document.querySelector('.burger-button');\n const header =  document.querySelector('.header')\n\nburgerBtn.addEventListener('click', function () {  \n\n    if (hiddebBurgMenu.hasAttribute('hidden')) {\n\n        hiddebBurgMenu.hidden = false;      \n        // header.classList.add('js-fixed')\nburgerBtn.innerHTML=`\n<svg class=\"svg-button-close svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"none\">\n<path  stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M16 2 2 16M2 2l14 14\"/>\n</svg>`;\n\n\n  // Получаем текущую позицию прокрутки\n  const scrollY = window.scrollY;\n  // Сохраняем текущую позицию в стилях элемента body\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}px`;\n        return;        \n    }\n\n\n  // Получаем сохраненное значение позиции прокрутки\n  const scrollY = parseInt(document.body.style.top, 10);\n  // Восстанавливаем позицию прокрутки\n  document.body.style.position = '';\n  document.body.style.top = '';\n  // Прокручиваем на сохраненную позицию\n  window.scrollTo(0, scrollY * -1);\n\n\n    hiddebBurgMenu.hidden = true;\n    // header.classList.remove('js-fixed')\n    burgerBtn.innerHTML=`\n    <svg class=\"svg-button svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\">\n            <path d=\"M19.8333 11.6667H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 7H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 16.3333H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M19.8333 21H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>`;      \n\n     })","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7nZc1\\\":\\\"shopping-list.d7284f6d.js\\\",\\\"1yVwl\\\":\\\"amazon.b69db657.png\\\",\\\"7vky4\\\":\\\"apple.7b1baefc.png\\\",\\\"gjDUq\\\":\\\"bookshops.25303dcf.png\\\"}\"));"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7rYDH","parcelRequire","$e5c62ffd1c5d842f$var$elements","container","document","querySelector","empty","removeBook","$e5c62ffd1c5d842f$var$PRODUCT_LS_KEY","$e5c62ffd1c5d842f$var$products","JSON","parse","localStorage","getItem","$e5c62ffd1c5d842f$var$createListShoping","innerHTML","map","a","getBookById","then","data","arr","_id","list_name","title","author","description","book_image","buy_links","insertAdjacentHTML","url","$parcel$interopDefault","$5F57d","name","$a1GE8","$ftY8Q","$e5c62ffd1c5d842f$var$createMarkup","addEventListener","evt","target","nodeName","console","log","IdxRemove","indexOf","splice","setItem","stringify","$56ca17bb174b0ce3$export$7a0f33e8df10bd94","fetch","response","ok","statusText","json","$56ca17bb174b0ce3$export$7111c27bf38a004f","$56ca17bb174b0ce3$export$3356e9d9184fb14f","selectedCategory","$56ca17bb174b0ce3$export$7f429e0f3975c907","module","exports","URL","resolve","import","meta","toString","$3aec6163380fc778$var$menuLinks","querySelectorAll","$3aec6163380fc778$var$currentShoppingList","$3aec6163380fc778$var$svgIconShoppingList","forEach","link","classList","add","$cac5e067b4644edc$var$hiddebBurgMenu","$cac5e067b4644edc$var$burgerBtn","hasAttribute","hidden","scrollY","window","body","style","position","top","parseInt","scrollTo","register"],"version":3,"file":"shopping-list.d7284f6d.js.map"}