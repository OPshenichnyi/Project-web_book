{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-ddb879b6a86ea9fa.js","node_modules/@parcel/runtime-js/lib/runtime-b72456753751e934.js","node_modules/@parcel/runtime-js/lib/runtime-ce510afae35c506d.js","node_modules/@parcel/runtime-js/lib/runtime-b53f750b4ac88e66.js","src/js/shopping-list-active-page.js","src/js/shopping-list-burger-open.js","src/js/switcher.js","src/js/shopping-list.js","src/js/api.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7nZc1\\\":\\\"shopping-list.e4cba52c.js\\\",\\\"1yVwl\\\":\\\"amazon.b69db657.png\\\",\\\"7vky4\\\":\\\"apple.7b1baefc.png\\\",\\\"gjDUq\\\":\\\"bookshops.25303dcf.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1yVwl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7vky4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gjDUq\")).toString();","\nconst menuLinks = document.querySelectorAll('.burger-mobile-header-link');\nconst currentShoppingList = document.querySelector('.burger-header-link-second');\nconst svgIconShoppingList = document.querySelector('.burger-menu_shopping-list');\n\n\nmenuLinks.forEach(link => {\n   \n    currentShoppingList.classList.add('active');\n    svgIconShoppingList.classList.add('active');\n});\n","\nconst hiddebBurgMenu = document.querySelector('.conteiner-hidden');\n const burgerBtn = document.querySelector('.burger-button');\n const header =  document.querySelector('.header')\n\nburgerBtn.addEventListener('click', function () {  \n\n    if (hiddebBurgMenu.hasAttribute('hidden')) {\n\n        hiddebBurgMenu.hidden = false;      \n        // header.classList.add('js-fixed')\nburgerBtn.innerHTML=`\n<svg class=\"svg-button-close svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"none\">\n<path  stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M16 2 2 16M2 2l14 14\"/>\n</svg>`;\n\n\n  // Получаем текущую позицию прокрутки\n  const scrollY = window.scrollY;\n  // Сохраняем текущую позицию в стилях элемента body\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}px`;\n        return;        \n    }\n\n\n  // Получаем сохраненное значение позиции прокрутки\n  const scrollY = parseInt(document.body.style.top, 10);\n  // Восстанавливаем позицию прокрутки\n  document.body.style.position = '';\n  document.body.style.top = '';\n  // Прокручиваем на сохраненную позицию\n  window.scrollTo(0, scrollY * -1);\n\n\n    hiddebBurgMenu.hidden = true;\n    // header.classList.remove('js-fixed')\n    burgerBtn.innerHTML=`\n    <svg class=\"svg-button svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\">\n            <path d=\"M19.8333 11.6667H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 7H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 16.3333H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M19.8333 21H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>`;      \n\n     })","const switcher = document.querySelector('#switch');\n\nswitcher.addEventListener('change', isChange);\nswitcher.addEventListener('click', themeSwitch);\n\nfunction isChange() {\n  if (switcher.checked) {\n    localStorage.setItem('checkbox', 'checked');\n  } else {\n    localStorage.setItem('checkbox', 'unchecked');\n  }\n}\n\nfunction themeSwitch() {\n  const isCheck = switcher.checked;\n  const currentTheme = document.documentElement;\n  const theme = currentTheme.getAttribute('data-theme');\n  let newTheme;\n\n  if (theme === 'light' && isCheck) {\n    newTheme = 'dark';\n  } else if (theme === 'dark' && !isCheck) {\n    newTheme = 'light';\n  } else {\n    return;\n  }\n  currentTheme.setAttribute('data-theme', newTheme);\n  localStorage.setItem('theme', newTheme);\n}\n\nfunction setTheme() {\n  const deviceTheme = localStorage.getItem('theme');\n  const currentTheme = document.documentElement;\n  currentTheme.setAttribute('data-theme', deviceTheme || 'light');\n  switcher.checked = deviceTheme === 'dark';\n}\nwindow.addEventListener('load', setTheme);\n\n// const switcher = document.querySelector('#switch');\n\n// switcher.addEventListener('click', switchTheme);\n\n// function switchTheme() {\n//   const rootElement = document.documentElement;\n//   let data = rootElement.getAttribute('data-theme');\n//   let newData;\n\n//   if (data === 'light') {\n//     newData = 'dark';\n//   } else {\n//     newData = 'light';\n//   }\n\n//   rootElement.setAttribute('data-theme', newData);\n// }\n","import { getBookById } from './api';\nimport {  getBookById } from \"./api\";\nimport amazon from \"../images/amazon.png\";\nimport apple from \"../images/apple.png\";\nimport bookshops from \"../images/bookshops.png\";\nimport './shopping-list-active-page'\nimport './shopping-list-burger-open'\nimport './switcher'\n\n\nconst elements = {\n    container: document.querySelector('.js-list'),\n    empty: document.querySelector('.shopping-empty'),\n    removeBook:document.querySelector('.js-removeBook') \n    \n}\n\nconst PRODUCT_LS_KEY = 'checkout';\nconst products = JSON.parse(localStorage.getItem(PRODUCT_LS_KEY)) || [];\n\nelements.empty.style.visibility = \"visible\"\n\n\nelements.container.addEventListener('click', (evt => {  \n    evt.preventDefault()\n    console.dir(evt.target);\n        if (evt.target.nodeName !== 'BUTTON'){\n            if (evt.target.nodeName !== 'svg') {\n                return\n            }\n        }\n        const IdxRemove = products.indexOf(evt.target.id);\n        products.splice(IdxRemove);\n              \n        elements.container.innerHTML = ``\n        createListShoping();\n    }));\n \n\n\n\n\ncreateListShoping();\n\nfunction createListShoping() {\n    localStorage.setItem(PRODUCT_LS_KEY, JSON.stringify(products));\n    if (products.length === 0) {\n    elements.empty.style.visibility = \"visible\"   \n        return;\n    }\n    elements.empty.style.visibility = \"hidden\"\n\n\n    products.map(a => {\n        getBookById(a).then(data => {\n            createMarkup(data);\n        });\n    });\n    \n     \n}\n\n\n\n\nfunction createMarkup(arr) {\n    const { _id, list_name, title, author, description, book_image, buy_links } = arr \n        elements.container.insertAdjacentHTML('beforeend',\n        `   <li data-id=\"${_id}\" class=\"js-product shop-product trigger\" data-modal-open=\"\">\n        <img class=\"shop-img basket\" src=\"${book_image}\" alt=\"${title}\" />\n        <div class=\"book-info basket\">\n        <h2 class=\"shop-title basket\">${title}</h2>\n        <p class=\"shop-category basket\">${list_name}</p>\n        <p class=\"shop-description basket\">${description}</p>\n\n        <button class=\"js-removeBook shop-dlt-btn\" type=\"button\" id=\"${_id}\">\n        <svg class=\"js-clear icon-trash shop-dlt-btn\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\">\n  <path d=\"M8.25 2.75H13.75M2.75 5.5H19.25M17.4167 5.5L16.7738 15.1427C16.6774 16.5894 16.6291 17.3128 16.3167 17.8613C16.0416 18.3441 15.6266 18.7323 15.1265 18.9747C14.5585 19.25 13.8335 19.25 12.3836 19.25H9.61643C8.1665 19.25 7.44153 19.25 6.87348 18.9747C6.37336 18.7323 5.95841 18.3441 5.68332 17.8613C5.37085 17.3128 5.32263 16.5894 5.22618 15.1427L4.58333 5.5M9.16667 9.625V14.2083M12.8333 9.625V14.2083\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>\n        \n        </button>\n\n        <div class=\"shop-wrap basket\">\n        <p class=\"shop-author basket\">${author}</p>  \n       <ul class=\"shop-link-list basket\">\n         <li>\n             <a href=\"${buy_links[0].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link-amz\">\n            <img class=\"icon-shop-amz basket\" src=\"${amazon}\" alt=\"${buy_links[0].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[1].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n            <img class=\"icon-shop basket\" src=\"${apple}\" alt=\"${buy_links[1].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[3].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n                 <img class=\"icon-shop basket\" src=\"${bookshops}\" alt=\"${buy_links[3].name}\" />\n             </a>\n         </li>\n        </ul>\n        </div>\n        \n        </div>\n  </li>`\n    );\n    \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","function getCategories() {\n  return fetch('https://books-backend.p.goit.global/books/category-list ').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getAllBooks() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getBookByCategory(selectedCategory) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction getBookById(id) {\n  return fetch(`https://books-backend.p.goit.global/books/${id}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nexport { getCategories, getAllBooks, getBookByCategory, getBookById };\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$41f4bfe0f5168ce2$exports","URL","resolve","import","meta","url","toString","$74cb1408661e9896$exports","$b458374fd3b35d83$exports","$3aec6163380fc778$var$menuLinks","document","querySelectorAll","$3aec6163380fc778$var$currentShoppingList","querySelector","$3aec6163380fc778$var$svgIconShoppingList","forEach","link","classList","add","$cac5e067b4644edc$var$hiddebBurgMenu","$cac5e067b4644edc$var$burgerBtn","addEventListener","hasAttribute","hidden","innerHTML","scrollY","window","body","style","position","top","parseInt","scrollTo","$0f25a362fb42fab3$var$switcher","checked","localStorage","setItem","isCheck","currentTheme","documentElement","theme","getAttribute","newTheme","setAttribute","deviceTheme","getItem","$e5c62ffd1c5d842f$var$elements","container","empty","removeBook","$e5c62ffd1c5d842f$var$products","$e5c62ffd1c5d842f$var$createListShoping","stringify","visibility","map","a","fetch","then","response","ok","statusText","json","data","arr","_id","list_name","title","author","description","book_image","buy_links","insertAdjacentHTML","$parcel$interopDefault","name","$e5c62ffd1c5d842f$var$createMarkup","evt","preventDefault","console","dir","target","nodeName","IdxRemove","indexOf","splice"],"version":3,"file":"shopping-list.e4cba52c.js.map"}