{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/shopping-list.js","src/js/api.js","node_modules/@parcel/runtime-js/lib/runtime-8bd5ee96495ce1ec.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-ffc24f8d72d3ce41.js","node_modules/@parcel/runtime-js/lib/runtime-287cafa7f4abf365.js","src/js/shopping-list-active-page.js","src/js/shopping-list-burger-open.js","node_modules/@parcel/runtime-js/lib/runtime-f34dff0e007fd55a.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import { getBookById } from './api';\nimport {  getBookById } from \"./api\";\nimport amazon from \"../images/amazon.png\";\nimport apple from \"../images/apple.png\";\nimport bookshops from \"../images/bookshops.png\";\nimport './shopping-list-active-page'\nimport './shopping-list-burger-open'\n\n\nconst elements = {\n    container: document.querySelector('.js-list'),\n    empty: document.querySelector('.shopping-empty'),\n    removeBook:document.querySelector('.js-removeBook') \n    \n}\n\nconst PRODUCT_LS_KEY = 'checkout';\nconst products = JSON.parse(localStorage.getItem(PRODUCT_LS_KEY)) || [];\n\n\n\n\ncreateListShoping();\n\nfunction createListShoping() {\n    if (products.length > 0) {\n        elements.empty.innerHTML = \"\"\n    }\n\n    products.map(a => {\n        getBookById(a).then(data => {\n            createMarkup(data);\n        });\n    });\n    elements.container.addEventListener('click', (evt => {         \n        if (evt.target.nodeName !== 'BUTTON') {\n            return\n        }\n        console.log(products);\n        const IdxRemove = products.indexOf(evt.target.id);\n        products.splice(IdxRemove, 1);\n        console.log(products);\n        localStorage.setItem(PRODUCT_LS_KEY, JSON.stringify(products));\n        elements.container.innerHTML = \"\";\n        createListShoping();\n    }));\n    \n    \n}\n\n\n\n\nfunction createMarkup(arr) {\n    const { _id, list_name, title, author, description, book_image, buy_links } = arr \n        elements.container.insertAdjacentHTML('beforeend',\n        `   <li data-id=\"${_id}\" class=\"js-product shop-product trigger\" data-modal-open=\"\">\n        <img class=\"shop-img\" src=\"${book_image}\" alt=\"${title}\" />\n        <div class=\"book-info\">\n        <h2 class=\"shop-title\">${title}</h2>\n        <p class=\"shop-category\">${list_name}</p>\n        <p class=\"shop-description\">${description}</p>\n\n        <button class=\"js-removeBook shop-dlt-btn\" type=\"button\" id=\"${_id}\">\n        <svg class=\"js-clear icon-trash\">\n         <use href=\"./images/icons_by_one/close.svg\"></use>\n      </svg>\n        </button>\n\n        <div class=\"shop-wrap\">\n        <p class=\"shop-author\">${author}</p>  \n       <ul class=\"shop-link-list\">\n         <li>\n             <a href=\"${buy_links[0].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link-amz\">\n            <img class=\"icon-shop-amz\" src=\"${amazon}\" alt=\"${buy_links[0].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[1].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n            <img class=\"icon-shop\" src=\"${apple}\" alt=\"${buy_links[1].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[3].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n                 <img class=\"icon-shop\" src=\"${bookshops}\" alt=\"${buy_links[3].name}\" />\n             </a>\n         </li>\n        </ul>\n        </div>\n        \n        </div>\n  </li>`\n    );\n    \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","function getCategories() {\n  return fetch('https://books-backend.p.goit.global/books/category-list ').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getAllBooks() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getBookByCategory(selectedCategory) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction getBookById(id) {\n  return fetch(`https://books-backend.p.goit.global/books/${id}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nexport { getCategories, getAllBooks, getBookByCategory, getBookById };\n","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"aaLHb\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"dvAvr\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"hOrlG\");","\nconst menuLinks = document.querySelectorAll('.burger-mobile-header-link');\nconst currentShoppingList = document.querySelector('.burger-header-link-second');\nconst svgIconShoppingList = document.querySelector('.burger-menu_shopping-list');\n\n\nmenuLinks.forEach(link => {\n   \n    currentShoppingList.classList.add('active');\n    svgIconShoppingList.classList.add('active');\n});\n","\nconst hiddebBurgMenu = document.querySelector('.conteiner-hidden');\n const burgerBtn = document.querySelector('.burger-button');\n const header =  document.querySelector('.header')\n\nburgerBtn.addEventListener('click', function () {  \n\n    if (hiddebBurgMenu.hasAttribute('hidden')) {\n\n        hiddebBurgMenu.hidden = false;      \n        // header.classList.add('js-fixed')\nburgerBtn.innerHTML=`\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" fill=\"none\">\n<path stroke=\"#111\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M16 2 2 16M2 2l14 14\"/>\n</svg>`;\n\n\n  // Получаем текущую позицию прокрутки\n  const scrollY = window.scrollY;\n  // Сохраняем текущую позицию в стилях элемента body\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}px`;\n        return;        \n    }\n\n\n  // Получаем сохраненное значение позиции прокрутки\n  const scrollY = parseInt(document.body.style.top, 10);\n  // Восстанавливаем позицию прокрутки\n  document.body.style.position = '';\n  document.body.style.top = '';\n  // Прокручиваем на сохраненную позицию\n  window.scrollTo(0, scrollY * -1);\n\n\n    hiddebBurgMenu.hidden = true;\n    // header.classList.remove('js-fixed')\n    burgerBtn.innerHTML=`\n    <svg\n    class ='js-icon-burger'\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"28\"\n      height=\"28\"\n      fill=\"none\"\n    >\n      <path\n        stroke=\"#111\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n        stroke-width=\"2\"\n        d=\"M19.833 11.667H3.5M24.5 7h-21M24.5 16.333h-21M19.833 21H3.5\"\n      />\n    </svg>`;      \n\n     })","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l20mf\\\":\\\"shopping-list.ad12e471.js\\\",\\\"aaLHb\\\":\\\"amazon.b69db657.png\\\",\\\"dvAvr\\\":\\\"apple.7b1baefc.png\\\",\\\"hOrlG\\\":\\\"bookshops.25303dcf.png\\\"}\"));"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$b7ONl","parcelRequire","$399cd7aec2522034$var$elements","container","document","querySelector","empty","removeBook","$399cd7aec2522034$var$PRODUCT_LS_KEY","$399cd7aec2522034$var$products","JSON","parse","localStorage","getItem","$399cd7aec2522034$var$createListShoping","innerHTML","map","a","getBookById","then","data","arr","_id","list_name","title","author","description","book_image","buy_links","insertAdjacentHTML","concat","url","$parcel$interopDefault","$4jeAV","name","$hU5e5","$5Xfp0","addEventListener","evt","target","nodeName","console","log","IdxRemove","indexOf","splice","setItem","stringify","$8197bff4c39d585a$export$7a0f33e8df10bd94","fetch","response","ok","statusText","json","$8197bff4c39d585a$export$7111c27bf38a004f","$8197bff4c39d585a$export$3356e9d9184fb14f","selectedCategory","$8197bff4c39d585a$export$7f429e0f3975c907","module","exports","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","$21c9d0c3141dd8c7$var$menuLinks","querySelectorAll","$21c9d0c3141dd8c7$var$currentShoppingList","$21c9d0c3141dd8c7$var$svgIconShoppingList","forEach","link","classList","add","$c3f6830ec6abc67d$var$hiddebBurgMenu","$c3f6830ec6abc67d$var$burgerBtn","hasAttribute","hidden","scrollY","window","body","style","position","top","scrollY1","parseInt","scrollTo","register"],"version":3,"file":"shopping-list.ad12e471.js.map"}