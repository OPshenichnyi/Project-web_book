{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-ddb879b6a86ea9fa.js","node_modules/@parcel/runtime-js/lib/runtime-b72456753751e934.js","node_modules/@parcel/runtime-js/lib/runtime-ce510afae35c506d.js","node_modules/@parcel/runtime-js/lib/runtime-b53f750b4ac88e66.js","src/js/shopping-list-active-page.js","src/js/shopping-list-burger-open.js","src/js/shopping-list.js","src/js/api.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7nZc1\\\":\\\"shopping-list.a98c224d.js\\\",\\\"1yVwl\\\":\\\"amazon.b69db657.png\\\",\\\"7vky4\\\":\\\"apple.7b1baefc.png\\\",\\\"gjDUq\\\":\\\"bookshops.25303dcf.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1yVwl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7vky4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gjDUq\")).toString();","\nconst menuLinks = document.querySelectorAll('.burger-mobile-header-link');\nconst currentShoppingList = document.querySelector('.burger-header-link-second');\nconst svgIconShoppingList = document.querySelector('.burger-menu_shopping-list');\n\n\nmenuLinks.forEach(link => {\n   \n    currentShoppingList.classList.add('active');\n    svgIconShoppingList.classList.add('active');\n});\n","\nconst hiddebBurgMenu = document.querySelector('.conteiner-hidden');\n const burgerBtn = document.querySelector('.burger-button');\n const header =  document.querySelector('.header')\n\nburgerBtn.addEventListener('click', function () {  \n\n    if (hiddebBurgMenu.hasAttribute('hidden')) {\n\n        hiddebBurgMenu.hidden = false;      \n        // header.classList.add('js-fixed')\nburgerBtn.innerHTML=`\n<svg class=\"svg-button-close svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"none\">\n<path  stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M16 2 2 16M2 2l14 14\"/>\n</svg>`;\n\n\n  // Получаем текущую позицию прокрутки\n  const scrollY = window.scrollY;\n  // Сохраняем текущую позицию в стилях элемента body\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}px`;\n        return;        \n    }\n\n\n  // Получаем сохраненное значение позиции прокрутки\n  const scrollY = parseInt(document.body.style.top, 10);\n  // Восстанавливаем позицию прокрутки\n  document.body.style.position = '';\n  document.body.style.top = '';\n  // Прокручиваем на сохраненную позицию\n  window.scrollTo(0, scrollY * -1);\n\n\n    hiddebBurgMenu.hidden = true;\n    // header.classList.remove('js-fixed')\n    burgerBtn.innerHTML=`\n    <svg class=\"svg-button svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\">\n            <path d=\"M19.8333 11.6667H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 7H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 16.3333H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M19.8333 21H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>`;      \n\n     })","import { getBookById } from './api';\nimport {  getBookById } from \"./api\";\nimport amazon from \"../images/amazon.png\";\nimport apple from \"../images/apple.png\";\nimport bookshops from \"../images/bookshops.png\";\nimport './shopping-list-active-page'\nimport './shopping-list-burger-open'\n\n\nconst elements = {\n    container: document.querySelector('.js-list'),\n    empty: document.querySelector('.shopping-empty'),\n    removeBook:document.querySelector('.js-removeBook') \n    \n}\n\nconst PRODUCT_LS_KEY = 'checkout';\nconst products = JSON.parse(localStorage.getItem(PRODUCT_LS_KEY)) || [];\n\nelements.empty.style.visibility = \"visible\"\n\n\n \n\ncreateListShoping();\n\nfunction createListShoping() {\n    console.log(products.length < 1);\n    if (products.length < 1) {\n        elements.empty.style.visibility = \"visible\"\n        elements.container.innerHTML = ``\n    }\n    elements.empty.style.visibility = \"hidden\"\n    products.map(a => {\n        getBookById(a).then(data => {\n            createMarkup(data);\n        });\n    });\n    elements.container.addEventListener('click', (evt => {         \n        if (evt.target.nodeName !== 'BUTTON') {\n            return\n        }\n        \n        const IdxRemove = products.indexOf(evt.target.id);\n        products.splice(IdxRemove, 1);\n        \n        localStorage.setItem(PRODUCT_LS_KEY, JSON.stringify(products));\n        elements.container.innerHTML = ``\n        createListShoping();\n    }));\n     \n}\n\n\n\n\nfunction createMarkup(arr) {\n    const { _id, list_name, title, author, description, book_image, buy_links } = arr \n        elements.container.insertAdjacentHTML('beforeend',\n        `   <li data-id=\"${_id}\" class=\"js-product shop-product trigger\" data-modal-open=\"\">\n        <img class=\"shop-img\" src=\"${book_image}\" alt=\"${title}\" />\n        <div class=\"book-info\">\n        <h2 class=\"shop-title\">${title}</h2>\n        <p class=\"shop-category\">${list_name}</p>\n        <p class=\"shop-description\">${description}</p>\n\n        <button class=\"js-removeBook shop-dlt-btn\" type=\"button\" id=\"${_id}\">\n        <svg class=\"js-clear icon-trash\">\n         <use href=\"./images/icons_by_one/close.svg\"></use>\n      </svg>\n        </button>\n\n        <div class=\"shop-wrap\">\n        <p class=\"shop-author\">${author}</p>  \n       <ul class=\"shop-link-list\">\n         <li>\n             <a href=\"${buy_links[0].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link-amz\">\n            <img class=\"icon-shop-amz\" src=\"${amazon}\" alt=\"${buy_links[0].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[1].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n            <img class=\"icon-shop\" src=\"${apple}\" alt=\"${buy_links[1].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[3].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n                 <img class=\"icon-shop\" src=\"${bookshops}\" alt=\"${buy_links[3].name}\" />\n             </a>\n         </li>\n        </ul>\n        </div>\n        \n        </div>\n  </li>`\n    );\n    \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","function getCategories() {\n  return fetch('https://books-backend.p.goit.global/books/category-list ').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getAllBooks() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getBookByCategory(selectedCategory) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction getBookById(id) {\n  return fetch(`https://books-backend.p.goit.global/books/${id}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nexport { getCategories, getAllBooks, getBookByCategory, getBookById };\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$41f4bfe0f5168ce2$exports","URL","resolve","import","meta","url","toString","$74cb1408661e9896$exports","$b458374fd3b35d83$exports","$3aec6163380fc778$var$menuLinks","document","querySelectorAll","$3aec6163380fc778$var$currentShoppingList","querySelector","$3aec6163380fc778$var$svgIconShoppingList","forEach","link","classList","add","$cac5e067b4644edc$var$hiddebBurgMenu","$cac5e067b4644edc$var$burgerBtn","addEventListener","hasAttribute","hidden","innerHTML","scrollY","window","body","style","position","top","parseInt","scrollTo","$e5c62ffd1c5d842f$var$elements","container","empty","removeBook","$e5c62ffd1c5d842f$var$products","localStorage","getItem","visibility","$e5c62ffd1c5d842f$var$createListShoping","console","log","map","a","fetch","then","response","ok","statusText","json","data","arr","_id","list_name","title","author","description","book_image","buy_links","insertAdjacentHTML","$parcel$interopDefault","name","$e5c62ffd1c5d842f$var$createMarkup","evt","target","nodeName","IdxRemove","indexOf","splice","setItem","stringify"],"version":3,"file":"shopping-list.a98c224d.js.map"}