{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-f34dff0e007fd55a.js","node_modules/@parcel/runtime-js/lib/runtime-8bd5ee96495ce1ec.js","node_modules/@parcel/runtime-js/lib/runtime-ffc24f8d72d3ce41.js","node_modules/@parcel/runtime-js/lib/runtime-287cafa7f4abf365.js","src/js/shopping-list-active-page.js","src/js/shopping-list-burger-open.js","src/js/shopping-list.js","src/js/api.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l20mf\\\":\\\"shopping-list.6d2a7887.js\\\",\\\"aaLHb\\\":\\\"amazon.b69db657.png\\\",\\\"dvAvr\\\":\\\"apple.7b1baefc.png\\\",\\\"hOrlG\\\":\\\"bookshops.25303dcf.png\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"aaLHb\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"dvAvr\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"hOrlG\");","\nconst menuLinks = document.querySelectorAll('.burger-mobile-header-link');\nconst currentShoppingList = document.querySelector('.burger-header-link-second');\nconst svgIconShoppingList = document.querySelector('.burger-menu_shopping-list');\n\n\nmenuLinks.forEach(link => {\n   \n    currentShoppingList.classList.add('active');\n    svgIconShoppingList.classList.add('active');\n});\n","\nconst hiddebBurgMenu = document.querySelector('.conteiner-hidden');\n const burgerBtn = document.querySelector('.burger-button');\n const header =  document.querySelector('.header')\n\nburgerBtn.addEventListener('click', function () {  \n\n    if (hiddebBurgMenu.hasAttribute('hidden')) {\n\n        hiddebBurgMenu.hidden = false;      \n        // header.classList.add('js-fixed')\nburgerBtn.innerHTML=`\n<svg class=\"svg-button-close svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"none\">\n<path  stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M16 2 2 16M2 2l14 14\"/>\n</svg>`;\n\n\n  // Получаем текущую позицию прокрутки\n  const scrollY = window.scrollY;\n  // Сохраняем текущую позицию в стилях элемента body\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}px`;\n        return;        \n    }\n\n\n  // Получаем сохраненное значение позиции прокрутки\n  const scrollY = parseInt(document.body.style.top, 10);\n  // Восстанавливаем позицию прокрутки\n  document.body.style.position = '';\n  document.body.style.top = '';\n  // Прокручиваем на сохраненную позицию\n  window.scrollTo(0, scrollY * -1);\n\n\n    hiddebBurgMenu.hidden = true;\n    // header.classList.remove('js-fixed')\n    burgerBtn.innerHTML=`\n    <svg class=\"svg-button svg-button-hover\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\">\n            <path d=\"M19.8333 11.6667H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 7H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M24.5 16.3333H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M19.8333 21H3.5\"  stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>`;      \n\n     })","import { getBookById } from './api';\nimport {  getBookById } from \"./api\";\nimport amazon from \"../images/amazon.png\";\nimport apple from \"../images/apple.png\";\nimport bookshops from \"../images/bookshops.png\";\nimport './shopping-list-active-page'\nimport './shopping-list-burger-open'\n\n\nconst elements = {\n    container: document.querySelector('.js-list'),\n    empty: document.querySelector('.shopping-empty'),\n    removeBook:document.querySelector('.js-removeBook') \n    \n}\n\nconst PRODUCT_LS_KEY = 'checkout';\nconst products = JSON.parse(localStorage.getItem(PRODUCT_LS_KEY)) || [];\n\nelements.empty.style.visibility = \"visible\"\n\n\n \n\ncreateListShoping();\n\nfunction createListShoping() {\n    console.log(products.length < 1);\n    if (products.length < 1) {\n        elements.empty.style.visibility = \"visible\"\n        elements.container.innerHTML = ``\n    }\n    elements.empty.style.visibility = \"hidden\"\n    products.map(a => {\n        getBookById(a).then(data => {\n            createMarkup(data);\n        });\n    });\n    elements.container.addEventListener('click', (evt => {         \n        if (evt.target.nodeName !== 'BUTTON') {\n            return\n        }\n        \n        const IdxRemove = products.indexOf(evt.target.id);\n        products.splice(IdxRemove, 1);\n        \n        localStorage.setItem(PRODUCT_LS_KEY, JSON.stringify(products));\n        elements.container.innerHTML = ``\n        createListShoping();\n    }));\n     \n}\n\n\n\n\nfunction createMarkup(arr) {\n    const { _id, list_name, title, author, description, book_image, buy_links } = arr \n        elements.container.insertAdjacentHTML('beforeend',\n        `   <li data-id=\"${_id}\" class=\"js-product shop-product trigger\" data-modal-open=\"\">\n        <img class=\"shop-img\" src=\"${book_image}\" alt=\"${title}\" />\n        <div class=\"book-info\">\n        <h2 class=\"shop-title\">${title}</h2>\n        <p class=\"shop-category\">${list_name}</p>\n        <p class=\"shop-description\">${description}</p>\n\n        <button class=\"js-removeBook shop-dlt-btn\" type=\"button\" id=\"${_id}\">\n        <svg class=\"js-clear icon-trash\">\n         <use href=\"./images/icons_by_one/close.svg\"></use>\n      </svg>\n        </button>\n\n        <div class=\"shop-wrap\">\n        <p class=\"shop-author\">${author}</p>  \n       <ul class=\"shop-link-list\">\n         <li>\n             <a href=\"${buy_links[0].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link-amz\">\n            <img class=\"icon-shop-amz\" src=\"${amazon}\" alt=\"${buy_links[0].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[1].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n            <img class=\"icon-shop\" src=\"${apple}\" alt=\"${buy_links[1].name}\" />\n             </a>\n         </li>\n         <li>\n             <a href=\"${buy_links[3].url}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"link shop-link\">\n                 <img class=\"icon-shop\" src=\"${bookshops}\" alt=\"${buy_links[3].name}\" />\n             </a>\n         </li>\n        </ul>\n        </div>\n        \n        </div>\n  </li>`\n    );\n    \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","function getCategories() {\n  return fetch('https://books-backend.p.goit.global/books/category-list ').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getAllBooks() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getBookByCategory(selectedCategory) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction getBookById(id) {\n  return fetch(`https://books-backend.p.goit.global/books/${id}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    }\n  );\n}\n\nexport { getCategories, getAllBooks, getBookByCategory, getBookById };\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$323441f1b58d41d0$exports","getBundleURL","resolve","$d08bb87147abc33d$exports","$455e69001dbc43c6$exports","$21c9d0c3141dd8c7$var$menuLinks","document","querySelectorAll","$21c9d0c3141dd8c7$var$currentShoppingList","querySelector","$21c9d0c3141dd8c7$var$svgIconShoppingList","forEach","link","classList","add","$c3f6830ec6abc67d$var$hiddebBurgMenu","$c3f6830ec6abc67d$var$burgerBtn","addEventListener","hasAttribute","hidden","innerHTML","scrollY","window","body","style","position","top","concat","scrollY1","parseInt","scrollTo","$399cd7aec2522034$var$elements","container","empty","removeBook","$399cd7aec2522034$var$PRODUCT_LS_KEY","$399cd7aec2522034$var$products","localStorage","getItem","visibility","$399cd7aec2522034$var$createListShoping","console","log","map","a","fetch","then","response","ok","statusText","json","data","arr","_id","list_name","title","author","description","book_image","buy_links","insertAdjacentHTML","$parcel$interopDefault","name","evt","target","nodeName","IdxRemove","indexOf","splice","setItem","stringify"],"version":3,"file":"shopping-list.6d2a7887.js.map"}